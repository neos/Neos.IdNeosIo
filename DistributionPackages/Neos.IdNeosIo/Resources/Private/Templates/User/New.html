<f:layout name="Default"/>

<f:section name="Title">Create New Account</f:section>

<f:section name="Content">

	<div class="row">
		<aside class="col-md-4 col-md-offset-1">
			<p>Your new account can be used to access the following services:</p>
			<ul>
				<li><a href="http://discuss.neos.io/">discuss.neos.io</a></li>
			</ul>
		</aside>
		<article class="col-md-6">
			<f:render partial="FlashMessages"/>

			<f:form action="sendActivationEmail" objectName="addUser" class="form-box form-horizontal">

				<div class="form-group">
					<div class="col-md-7 col-md-offset-4">
						<div class="form-control-static">Please fill in the following fields:</div>
					</div>
				</div>

				<hr/>

				<f:validation.results>
					<f:if condition="{validationResults.flattenedErrors}">
						<div class="col-md-7 col-md-offset-4">
							<p class="text-danger">
								<strong>There are some errors in the form.</strong>
							</p>
						</div>
					</f:if>
				</f:validation.results>

				<f:validation.results for="addUser.firstName">
					<div class="form-group{f:if(condition: validationResults.flattenedErrors, then: ' has-error has-feedback')}">
						<label class="col-md-3 col-md-offset-1 control-label">First name</label>
						<div class="col-md-7">
							<f:form.textfield required="required" id="first-name" type="text" property="firstName" class="form-control" placeholder="First name"/>
							<f:if condition="{validationResults.flattenedErrors}">
								<span class="glyphicon glyphicon-remove form-control-feedback" aria-hidden="true"></span>
								<span class="help-block">
									<f:for each="{validationResults.errors}" as="error">
										{error}
									</f:for>
								</span>
							</f:if>
						</div>
					</div>
				</f:validation.results>

				<f:validation.results for="addUser.lastName">
					<div class="form-group{f:if(condition: validationResults.flattenedErrors, then: ' has-error has-feedback')}">
						<label class="col-md-3 col-md-offset-1 control-label">Last name</label>
						<div class="col-md-7">
							<f:form.textfield required="required" id="last-name" type="text" property="lastName" class="form-control" placeholder="Last name"/>
							<f:if condition="{validationResults.flattenedErrors}">
								<span class="glyphicon glyphicon-remove form-control-feedback" aria-hidden="true"></span>
								<span class="help-block">
									<f:for each="{validationResults.errors}" as="error">
										{error}
									</f:for>
								</span>
							</f:if>
						</div>
					</div>
				</f:validation.results>

				<f:validation.results for="addUser.email">
					<div class="form-group{f:if(condition: validationResults.flattenedErrors, then: ' has-error has-feedback')}">
						<label class="col-md-3 col-md-offset-1 control-label">Email address</label>
						<div class="col-md-7">
							<f:form.textfield required="required" id="email" type="email" property="email" class="form-control" placeholder="Email address"/>
							<f:if condition="{validationResults.flattenedErrors}">
								<span class="glyphicon glyphicon-remove form-control-feedback" aria-hidden="true"></span>
								<span class="help-block">
									<f:for each="{validationResults.errors}" as="error">
										{error}
									</f:for>
								</span>
							</f:if>
						</div>
					</div>
				</f:validation.results>

				<hr/>

				<f:validation.results for="addUser.username">
					<div class="form-group{f:if(condition: validationResults.flattenedErrors, then: ' has-error has-feedback')}">
						<label class="col-md-3 col-md-offset-1 control-label">Username</label>
						<div class="col-md-7">
							<f:form.textfield required="required" id="username" type="text" property="username" class="form-control" placeholder="Username"/>
							<f:if condition="{validationResults.flattenedErrors}">
								<f:then>
									<span class="glyphicon glyphicon-remove form-control-feedback" aria-hidden="true"></span>
									<span class="help-block">
										<f:for each="{validationResults.errors}" as="error">
											{error}
										</f:for>
									</span>
								</f:then>
								<f:else>
									<span class="help-block">This needs to be unique and will be visible to other users.</span>
								</f:else>
							</f:if>
						</div>
					</div>
				</f:validation.results>

				<f:validation.results for="addUser.password">
					<div class="form-group{f:if(condition: validationResults.flattenedErrors, then: ' has-error has-feedback')}">
						<label class="col-md-3 col-md-offset-1 control-label">Password</label>
						<div class="col-md-7">
							<f:form.textfield required="required" id="password" type="password" property="password" class="form-control" placeholder="Password"/>
							<f:if condition="{validationResults.flattenedErrors}">
								<f:then>
									<span class="glyphicon glyphicon-remove form-control-feedback" aria-hidden="true"></span>
									<span class="help-block">
										<f:for each="{validationResults.errors}" as="error">
											{error}
										</f:for>
									</span>
								</f:then>
								<f:else>
									<span class="help-block">Please choose a strong password with at least 8 characters.</span>
								</f:else>
							</f:if>
						</div>
					</div>
				</f:validation.results>

				<f:validation.results for="addUser.passwordConfirmation">
					<div class="form-group{f:if(condition: validationResults.flattenedErrors, then: ' has-error has-feedback')}">
						<label class="col-md-3 col-md-offset-1 control-label">Password</label>
						<div class="col-md-7">
							<f:form.textfield required="required" id="password-confirmation" type="password" property="passwordConfirmation" class="form-control" placeholder="Confirm password"/>
							<f:if condition="{validationResults.flattenedErrors}">
								<span class="glyphicon glyphicon-remove form-control-feedback" aria-hidden="true"></span>
								<span class="help-block">
									<f:for each="{validationResults.errors}" as="error">
										{error}
									</f:for>
								</span>
							</f:if>
						</div>
					</div>
				</f:validation.results>

				<div class="form-group">
					<div class="col-md-7 col-md-offset-4">
						<f:form.button type="submit" class="btn btn-primary btn-block">Create Account</f:form.button>
					</div>
				</div>
			</f:form>

		</article>
	</div>

</f:section>
