<f:layout name="Default" />

<f:section name="Title">Update your Neos Community Profile</f:section>

<f:section name="Content">

	<div class="row">
		<aside class="col-md-4 col-md-offset-1">
			<p>Edit your user Neos Community Profile.</p>
			<p>&nbsp;</p>
			<p><f:link.action action="index">Cancel</f:link.action></p>
		</aside>
		<article class="col-md-6">
			<f:render partial="FlashMessages" />

			<f:form action="updateName" objectName="changeName" class="form-box form-horizontal">

				<div class="form-group">
					<div class="col-md-7 col-md-offset-4">
						<div class="form-control-static">Please fill in the following fields to update the name of your Neos Community Profile:</div>
					</div>
				</div>

				<hr />

				<f:validation.results>
					<f:if condition="{validationResults.flattenedErrors}">
						<div class="col-md-7 col-md-offset-4">
							<p class="text-danger">
								<strong>There are some errors in the form.</strong>
							</p>
						</div>
					</f:if>
				</f:validation.results>

				<f:validation.results for="changeName.firstName">
					<div class="form-group{f:if(condition: validationResults.flattenedErrors, then: ' has-error has-feedback')}">
						<label class="col-md-3 col-md-offset-1 control-label">First name</label>
						<div class="col-md-7">
							<f:form.textfield required="required" id="first-name" type="text" property="firstName" value="{crowdUser.firstName}" class="form-control" placeholder="First name"/>
							<f:if condition="{validationResults.flattenedErrors}">
								<span class="glyphicon glyphicon-remove form-control-feedback" aria-hidden="true"></span>
								<span class="help-block">
									<f:for each="{validationResults.errors}" as="error">
										{error}
									</f:for>
								</span>
							</f:if>
						</div>
					</div>
				</f:validation.results>

				<f:validation.results for="changeName.lastName">
					<div class="form-group{f:if(condition: validationResults.flattenedErrors, then: ' has-error has-feedback')}">
						<label class="col-md-3 col-md-offset-1 control-label">Last name</label>
						<div class="col-md-7">
							<f:form.textfield required="required" id="last-name" type="text" property="lastName" value="{crowdUser.lastName}" class="form-control" placeholder="Last name"/>
							<f:if condition="{validationResults.flattenedErrors}">
								<span class="glyphicon glyphicon-remove form-control-feedback" aria-hidden="true"></span>
								<span class="help-block">
									<f:for each="{validationResults.errors}" as="error">
										{error}
									</f:for>
								</span>
							</f:if>
						</div>
					</div>
				</f:validation.results>

				<hr />

				<div class="form-group">
					<div class="col-md-7 col-md-offset-4">
						<f:form.button type="submit" class="btn btn-primary btn-block">Update Name</f:form.button>
					</div>
				</div>
			</f:form>

		</article>
	</div>

</f:section>
