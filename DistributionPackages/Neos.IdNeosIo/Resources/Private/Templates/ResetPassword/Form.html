{namespace i=Neos\IdNeosIo\ViewHelpers}
<f:layout name="Default" />

<f:section name="Title">Reset password</f:section>

<f:section name="Content">

	<div class="row">
		<aside class="col-md-4 col-md-offset-1">
			<p>Set a new password for your account.</p>
			<p>&nbsp;</p>
			<p><f:link.action action="index" controller="User">Cancel</f:link.action></p>
		</aside>
		<article class="col-md-6">

			<f:render partial="FlashMessages" />

			<i:form name="resetPassword" action="reset" arguments="{token: tokenHash}" objectName="resetPassword" class="form-box form-horizontal">

				<div class="form-group">
					<div class="col-md-7 col-md-offset-4">
						<div class="form-control-static">Please enter a new password:</div>
					</div>
				</div>

				<hr />

				<f:validation.results>
					<f:if condition="{validationResults.flattenedErrors}">
						<div class="col-md-7 col-md-offset-4">
							<p class="text-danger">
								<strong>There are some errors in the form.</strong>
							</p>
						</div>
					</f:if>
				</f:validation.results>

				<f:validation.results for="resetPassword.password">
					<f:if condition="{validationResults.flattenedErrors}">
						<f:then>
							<div class="form-group has-error has-feedback">
								<label class="col-md-3 col-md-offset-1 control-label">Password</label>
								<div class="col-md-7">
									<f:form.textfield required="required" id="password" type="password" property="password" class="form-control" placeholder="Password" />
									<span class="glyphicon glyphicon-remove form-control-feedback" aria-hidden="true"></span>
									<span class="help-block">
										<f:for each="{validationResults.errors}" as="error">
											{error}
										</f:for>
									</span>
								</div>
							</div>
						</f:then>
						<f:else>
							<div class="form-group">
								<label class="col-md-3 col-md-offset-1 control-label">Password</label>
								<div class="col-md-7">
									<f:form.textfield required="required" id="password" type="password" property="password" class="form-control" placeholder="Password" />
								</div>
							</div>
						</f:else>
					</f:if>
				</f:validation.results>

				<f:validation.results for="resetPassword.passwordConfirmation">
					<f:if condition="{validationResults.flattenedErrors}">
						<f:then>
							<div class="form-group has-error has-feedback">
								<label class="col-md-3 col-md-offset-1 control-label">Confirm password</label>
								<div class="col-md-7">
									<f:form.textfield required="required" id="password" type="password" property="passwordConfirmation" class="form-control" placeholder="Confirm password" />
									<span class="glyphicon glyphicon-remove form-control-feedback" aria-hidden="true"></span>
									<span class="help-block">
										<f:for each="{validationResults.errors}" as="error">
											{error}
										</f:for>
									</span>
								</div>
							</div>
						</f:then>
						<f:else>
							<div class="form-group">
								<label class="col-md-3 col-md-offset-1 control-label">Confirm password</label>
								<div class="col-md-7">
									<f:form.textfield required="required" id="password" type="password" property="passwordConfirmation" class="form-control" placeholder="Confirm password" />
								</div>
							</div>
						</f:else>
					</f:if>
				</f:validation.results>

				<div class="form-group">
					<div class="col-md-7 col-md-offset-4">
						<f:form.button type="submit" class="btn btn-primary btn-block">Reset Password</f:form.button>
					</div>
				</div>
			</i:form>

		</article>
	</div>

</f:section>
